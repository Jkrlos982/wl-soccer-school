# API Gateway Environment Variables
# Copy this file to .env.gateway and update the values

# Application
APP_NAME="WL School API Gateway"
APP_ENV=production
APP_DEBUG=false
APP_URL=https://your-domain.com

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_TTL=1440
JWT_REFRESH_TTL=20160
JWT_ALGO=HS256

# Database Configuration
DB_CONNECTION=mysql
DB_HOST=mysql
DB_PORT=3306
DB_DATABASE=wl_school
DB_USERNAME=wl_school_user
DB_PASSWORD=secure_password_change_this
DB_ROOT_PASSWORD=super_secure_root_password

# Redis Configuration
REDIS_HOST=redis
REDIS_PASSWORD=null
REDIS_PORT=6379

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_LOGIN_ATTEMPTS=5
RATE_LIMIT_GLOBAL_REQUESTS=1000

# CORS Configuration
CORS_ALLOWED_ORIGINS=https://your-frontend-domain.com,http://localhost:3000
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With,Accept,Origin
CORS_EXPOSED_HEADERS=X-Total-Count,X-Page-Count
CORS_MAX_AGE=86400
CORS_SUPPORTS_CREDENTIALS=true

# SSL Configuration
SSL_CERTIFICATE_PATH=/etc/nginx/ssl/certificate.crt
SSL_PRIVATE_KEY_PATH=/etc/nginx/ssl/private.key
SSL_DHPARAM_PATH=/etc/nginx/ssl/dhparam.pem

# Monitoring
GRAFANA_PASSWORD=secure_grafana_password
PROMETHEUS_RETENTION=15d

# Logging
LOG_LEVEL=info
LOG_FORMAT=json
LOG_RETENTION_DAYS=30

# Security Headers
SECURITY_HSTS_MAX_AGE=31536000
SECURITY_CSP_POLICY="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' https:; connect-src 'self' https: wss:;"

# Microservices URLs (Internal Docker Network)
AUTH_SERVICE_URL=http://auth-service:8001
FINANCIAL_SERVICE_URL=http://financial-service:8002
SPORTS_SERVICE_URL=http://sports-service:8003
NOTIFICATION_SERVICE_URL=http://notification-service:8004
MEDICAL_SERVICE_URL=http://medical-service:8005
PAYROLL_SERVICE_URL=http://payroll-service:8006
REPORT_SERVICE_URL=http://report-service:8007
CALENDAR_SERVICE_URL=http://calendar-service:8008
CUSTOMIZATION_SERVICE_URL=http://customization-service:8009
FRONTEND_URL=http://frontend-pwa:3000

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3
HEALTH_CHECK_START_PERIOD=40s

# Backup Configuration
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=7
BACKUP_S3_BUCKET=wl-school-backups
BACKUP_S3_REGION=us-east-1

# Email Configuration (for notifications)
MAIL_MAILER=smtp
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-password
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=noreply@wl-school.com
MAIL_FROM_NAME="WL School"

# AWS Configuration (if using AWS services)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_DEFAULT_REGION=us-east-1
AWS_BUCKET=wl-school-storage

# Pusher Configuration (for real-time notifications)
PUSHER_APP_ID=your-pusher-app-id
PUSHER_APP_KEY=your-pusher-app-key
PUSHER_APP_SECRET=your-pusher-app-secret
PUSHER_APP_CLUSTER=mt1

# Development/Testing
DEV_MODE=false
TEST_DATABASE=wl_school_test
SEED_DATABASE=false